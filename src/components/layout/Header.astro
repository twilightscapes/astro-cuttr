---
import ThemeToggle from "../ThemeToggle.astro";
// import Search from "../Search.astro";
import { menuLinks } from "@/site-config";

import { Image } from "astro:assets";
import localBirdImage from "../../../src/assets/Cuttr-logo-wht.svg";
// import BackgroundImage from "../../../src/assets/newspaper.webp";
import Switch from "../Switch.jsx";
import GoBack from "../GoBack.jsx";

const url = new URL(Astro.request.url);
---

<style>
	body {
		/* background-image: url("../../../src/assets/newspaper.webp"); */
		/* background: url("data:image/svg+xml; base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTAwIiBoZWlnaHQ9IjUwMCI+CjxmaWx0ZXIgaWQ9Im4iPgo8ZmVUdXJidWxlbmNlIHR5cGU9ImZyYWN0YWxOb2lzZSIgYmFzZUZyZXF1ZW5jeT0iLjciIG51bU9jdGF2ZXM9IjEwIiBzdGl0Y2hUaWxlcz0ic3RpdGNoIj48L2ZlVHVyYnVsZW5jZT4KPC9maWx0ZXI+CjxyZWN0IHdpZHRoPSI1MDAiIGhlaWdodD0iNTAwIiBmaWxsPSIjMDAwIj48L3JlY3Q+CjxyZWN0IHdpZHRoPSI1MDAiIGhlaWdodD0iNTAwIiBmaWx0ZXI9InVybCgjbikiIG9wYWNpdHk9IjAuNCI+PC9yZWN0Pgo8L3N2Zz4="); */
		object-fit: contain;
		background-size: cover;
		/* background-size: 55%; */
		/* background-blend-mode: hard-light; */
		/* -webkit-background-blend-mode: difference;
		background-blend-mode: difference;
		-webkit-backdrop-filter: blur(3px);
		backdrop-filter: blur(3px); */
		/* background-blend-mode: difference;
		-webkit-background-blend-mode: difference; */
	}
</style>

<div
	id="menu"
	class="menu print panel1 header"
	style={{
		position: "sticky",
		width: "100vw",
		top: "0",
		left: "0",
		zIndex: "10",
		maxHeight: "60px",
		overFlow: "hidden",
		boxShadow: "0 0 2px rgba(0,0,0,.7)",
		padding: "0 3%",
		alignItems: "start",
		borderRadius: "0",
		display: "flex",
		justifyContent: "space-between",
		gap: "10px",
		background: "hsla(138, 52%, 29%, .8)",
		
		color: "#fff",
		borderBottom: "1px solid #222",
		// marginBottom:'5vh',
		backdropFilter: "blur(54px)",
		// -webkitBackdropFilter: "blur(24px)",
	}}
>
	<a href="/" class="cornerlogo" aria-current={url.pathname === "/" ? "page" : false}>
		<Image src={localBirdImage} alt="A bird sitting on a nest of eggs." class="cornerlogo" style={{
			position: "relative",
			top: "1%",
			left: "",
			// border: "0px solid white",
			padding: "1% 0 0 0",
			marginLeft: "",
			maxHeight: "60px",
			minHeight: "50px",
			maxWidth: "90px"
		}}
			loading="eager"
			fetchpriority="high" />
		<!-- <img
			class="cornerlogo"
			src={localBirdImage.src}
			alt="A bird sitting on a nest of eggs."
			style={{
				position: "absolute",
				top: "",
				left: "30px",
				border: "0px solid white",
				padding: "0",
				maxHeight: "60px",
				maxWidth: "100px",
			}}
			width="auto"
			height="100%"
			loading="eager"
			fetchpriority="high"
		/> -->
	</a>

	<ul
		class="topmenu"
		style={{
			fontSize: "clamp(.6rem, 1.6vw, 1.8rem)",
			textAlign: "center",
			maxHeight: "",
			display: "flex",
			justifyContent: "space-around",
			gap: "4vw",
			alignItems: "center",
			margin: "0 auto 0 auto",
			padding: "0 0 0 0",
			border: "0px solid white",
			height:'60px'
		}}
	>
		{
			menuLinks.map((link) => (
				<li>
					<a
						href={link.path}
						class="px-4 py-4 sm:py-0 sm:hover:underline"
						aria-current={url.pathname === link.path ? "page" : false}
						rel="prefetch"
					>
						{link.title}
					</a>
				</li>
			))
		}
	</ul>

	<div
		id="missioncontrol"
		class="missioncontrol sitecontrols"
		style={{
			display: "flex",
			justifyContent: "space-around",
			fontSize: "clamp(.8rem, 2.3vw, 2.5rem)",
			gap: "3vw",
			textAlign: "center",
			maxHeight: "",
			alignItems: "center",
			paddingTop: "0",
		}}
	>
		<!-- <Search /> -->
		<ThemeToggle />
		<Switch client:load />
	
	</div>
</div>
<GoBack client:load />


<button
		aria-label="Back to Top"
		class="z-90 fixed bottom-12 end-4 flex h-10 w-10 translate-y-28 items-center justify-center rounded-full border-2 border-transparent bg-zinc-200 text-3xl opacity-0 transition-all duration-300 hover:border-zinc-400 data-[show=true]:translate-y-0 data-[show=true]:opacity-100 dark:bg-zinc-700 sm:end-8 sm:h-12 sm:w-12"
		data-show="false"
		id="to-top-btn"
		><svg
	aria-hidden="true"
	class="h-6 w-6"
	fill="none"
	focusable="false"
	stroke="currentColor"
	stroke-width="2"
	viewBox="0 0 24 24"
	xmlns="http://www.w3.org/2000/svg"
>
	<path d="M4.5 15.75l7.5-7.5 7.5 7.5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>
</button>

<script>
	document.addEventListener("DOMContentLoaded", () => {
  const scrollBtn = document.getElementById("to-top-btn");
  const targetHeader = document.getElementById("menu");

  if (!scrollBtn || !targetHeader) {
    console.error('One or more elements not found');
    return;
  }

  // Function to toggle button visibility
  const toggleButtonVisibility = () => {
    if (window.scrollY > 200) { // Show button after scrolling 200px
      scrollBtn.classList.add("show");
      scrollBtn.classList.remove("hide");
    } else {
      scrollBtn.classList.add("hide");
      scrollBtn.classList.remove("show");
    }
  };

  // Initial check
  toggleButtonVisibility();

  // Check on scroll
  window.addEventListener("scroll", toggleButtonVisibility);

  // Smooth scroll to top on button click
  scrollBtn.addEventListener("click", () => {
    window.scrollTo({ behavior: "smooth", top: 0 });
  });
});

  </script>
  
  