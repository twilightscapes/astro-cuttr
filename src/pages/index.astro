---
import SocialList from "@/components/SocialList.astro";
import PostPreview from "@/components/blog/PostPreview.astro";
import { getAllPosts, sortMDByDate } from "@/data/post";
import PageLayout from "@/layouts/Base.astro";

const MAX_POSTS = 10;
const allPosts = await getAllPosts();
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS);

// const cactusTech: { desc: string; href: string; title: string }[] = [
// 	{
// 		desc: "Build fast websites, faster.",
// 		href: "https://astro.build",
// 		title: "Astro",
// 	},
// 	{
// 		desc: "Rapidly build modern websites without ever leaving your HTML.",
// 		href: "https://tailwindcss.com",
// 		title: "Tailwind CSS",
// 	},
// 	{
// 		desc: "Simple and easy-to-use markup language.",
// 		href: "https://www.markdownguide.org/",
// 		title: "Markdown",
// 	},
// 	{
// 		desc: "Markdown for the component era.",
// 		href: "https://mdxjs.com/",
// 		title: "MDX",
// 	},
// 	{
// 		desc: "Generating png Open Graph images for blog posts.",
// 		href: "https://github.com/vercel/satori",
// 		title: "Satori",
// 	},
// 	{
// 		desc: "A fully static search library.",
// 		href: "https://pagefind.app/",
// 		title: "Pagefind",
// 	},
// 	{
// 		desc: "An easy to use Icon component for Astro.",
// 		href: "https://github.com/natemoo-re/astro-icon#readme",
// 		title: "Astro Icon",
// 	},
// 	{
// 		desc: "Highly customisable source code & syntax highlighter",
// 		href: "https://expressive-code.com/",
// 		title: "Expressive Code",
// 	},
// ];
---

<PageLayout meta={{ title: "Home" }}>
	<!-- <section style="padding:60px 5% 0 5%">
		<h1 class="title mb-6">Hello World!</h1>
		<p class="mb-4">
			Hi, Iâ€™m a theme for Astro, an example of how you can use this starter to create a personal
			blog. If you want to know more about how you can customise me, add more posts, and make it
			your own, click on the github icon link below and it will take you to my repo.
		</p>
		<SocialList />
	</section> -->


	<div class="scroll-container">
		<!-- <h1 class="center title">Welcome to this website</h1> -->
		<!-- <div class="contentpanel horizontal-scroll panels"> -->
		<div class="contentpanel grid-container panels">
			<div class="sliderSpacer" style={{ height: "", paddingTop: "", display: "" }}></div>

			{allPostsByDate.map((p) => <PostPreview post={p} as="h2" withDesc />)}

			<div
				style={{
					textAlign: "center",
					display: "grid",
					placeContent: "center",
					padding: "1vh 1vw",
					// background: "rgba(0, 0, 0, .6)",
					// height: "75vh",
					width: "100%",
					position: "relative",
					top: "0",
					// border: "3px solid #000",
					borderRadius: "12px",
					transition: "all .3s ease-in-out",
				}}
			>
				<div
					class="panel"
					style={{
						maxWidth: "500px",
						color: "#ddd",
						borderRadius: "5px",
						border: "4px solid #222",
					}}
				>
					<h3>Wanna view more?</h3>
					<br />
					<a
						class="button"
						href="/posts/"
						style={{
							textDecoration: "none",
							color: "#fff",
							textAlign: "center",
						}}
					>
						View More
					</a>
				</div>
			</div>
			<!-- <div
				style={{
					textAlign: "center",
					display: "grid",
					placeContent: "center",
					padding: "10% 0 0 0",
				}}
			>
			</div> -->
		</div>
	</div>


	<!-- <section aria-label="Blog post list" class="mt-16"  style="padding:60px 5% 0 5%">
		<h2 class="title mb-4 text-xl">Posts</h2>
		<ul class="space-y-4">
			{
				allPostsByDate.map((p) => (
					<li class="grid gap-2 sm:grid-cols-[auto_1fr] sm:[&_q]:col-start-2">
						<PostPreview post={p} />
					</li>
				))
			}
		</ul>
	</section> -->
	<!-- <section class="mt-16">
		<h2 class="title mb-4 text-xl">Technologies</h2>
		<dl class="space-y-4">
			
		</dl>
	</section> -->
</PageLayout>
